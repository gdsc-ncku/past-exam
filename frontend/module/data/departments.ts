export interface Department {
  code: string;
  name: string;
  departments?: Department[];
}

export interface Academy {
  code: string;
  name: string;
  departments: Department[];
}

export const ACADEMIES: Academy[] = [
  {
    code: 'A',
    name: '其他',
    departments: [
      { code: 'A2', name: '體育室' },
      { code: 'A3', name: '軍訓室' },
      { code: 'A4', name: '師培中心' },
      { code: 'A5', name: '計網中心' },
      { code: 'A6', name: '服務學習' },
      { code: 'AA', name: '共同英授' },
      { code: 'AJ', name: '校級校外實習' },
      { code: 'AL', name: 'AP' },
      { code: 'ZA', name: 'AI聯盟' },
    ],
  },
  {
    code: 'B',
    name: '跨院之學位學程',
    departments: [
      { code: 'AH', name: '華語中心' },
      { code: 'AN', name: '不分系學程' },
      { code: 'C0', name: '科學班' },
      { code: 'W1', name: '跨域國際碩士學程' },
    ],
  },
  {
    code: 'C',
    name: '通識中心',
    departments: [
      { code: 'A1', name: '外語中心' },
      { code: 'A7', name: '大學國文' },
      { code: 'A9', name: '通識中心' },
      { code: 'AF', name: '踏溯台南' },
      { code: 'AG', name: '公民歷史' },
      { code: 'AZ', name: '學士模組課' },
      { code: 'WZ', name: '研究所模組課' },
    ],
  },
  {
    code: 'I',
    name: '智慧半導體及永續製造學院',
    departments: [
      { code: 'M1', name: '晶片學程' },
      { code: 'M2', name: '製程學程' },
      { code: 'M3', name: '封測學程' },
      { code: 'M4', name: '關鍵材料學程' },
      { code: 'M5', name: '永續學程' },
      { code: 'M6', name: '半導體高階管理' },
      { code: 'MZ', name: '半導體學院課程' },
    ],
  },
  {
    code: 'M',
    name: '敏求智慧運算學院',
    departments: [
      { code: 'J0', name: '敏求學院課程' },
      { code: 'M0', name: '敏求學院課程' },
      { code: 'NM', name: '智慧科技碩士學程' },
      { code: 'NN', name: '運算碩士學程' },
      { code: 'NP', name: '運算工程博士學程' },
    ],
  },
  {
    code: 'N',
    name: '文學院',
    departments: [
      { code: 'B0', name: '文學院學士班' },
      { code: 'B1', name: '中文系' },
      { code: 'B2', name: '外文系' },
      { code: 'B3', name: '歷史系' },
      { code: 'B5', name: '台文系' },
      { code: 'K1', name: '中文所' },
      { code: 'K2', name: '外文所' },
      { code: 'K3', name: '歷史所' },
      { code: 'K4', name: '藝術所' },
      { code: 'K5', name: '台文所' },
      { code: 'K7', name: '考古所' },
      { code: 'K8', name: '戲劇碩士學程' },
      { code: 'KZ', name: '文學院研究所' },
    ],
  },
  {
    code: 'P',
    name: '理學院',
    departments: [
      { code: 'C1', name: '數學系' },
      { code: 'C2', name: '物理系' },
      { code: 'C3', name: '化學系' },
      { code: 'C4', name: '地科系' },
      { code: 'F8', name: '光電系' },
      { code: 'L1', name: '應數所' },
      { code: 'L2', name: '物理所' },
      { code: 'L3', name: '化學所' },
      { code: 'L4', name: '地科所' },
      { code: 'L7', name: '光電所' },
      { code: 'LA', name: '電漿所' },
      { code: 'VF', name: '發光二極產碩' },
      { code: 'VP', name: '光電科技產碩' },
    ],
  },
  {
    code: 'Q',
    name: '工學院',
    departments: [
      { code: 'E0', name: '工學院' },
      { code: 'E1', name: '機械系' },
      { code: 'E3', name: '化工系' },
      { code: 'E4', name: '資源系' },
      { code: 'E5', name: '材料系' },
      { code: 'E6', name: '土木系' },
      { code: 'E8', name: '水利系' },
      { code: 'E9', name: '工科系' },
      { code: 'F0', name: '能源學程' },
      { code: 'F1', name: '系統系' },
      { code: 'F4', name: '航太系' },
      { code: 'F5', name: '環工系' },
      { code: 'F6', name: '測量系' },
      { code: 'F9', name: '醫工系' },
      { code: 'N0', name: '工程管理碩專' },
      { code: 'N1', name: '機械所' },
      { code: 'N3', name: '化工所' },
      { code: 'N4', name: '資源所' },
      { code: 'N5', name: '材料所' },
      { code: 'N6', name: '土木所' },
      { code: 'N8', name: '水利所' },
      { code: 'N9', name: '工科所' },
      { code: 'NA', name: '海事所' },
      { code: 'NB', name: '尖端碩士學程' },
      { code: 'NC', name: '自災碩士學程' },
      { code: 'NF', name: '智慧製造碩士學程' },
      { code: 'P0', name: '能源碩博學程' },
      { code: 'P1', name: '系統所' },
      { code: 'P4', name: '航太所' },
      { code: 'P5', name: '環工所' },
      { code: 'P6', name: '測量所' },
      { code: 'P8', name: '醫工所' },
      { code: 'Q4', name: '民航所' },
      { code: 'Q8', name: '太空所' },
      { code: 'VQ', name: '機械產碩' },
    ],
  },
  {
    code: 'R',
    name: '管理學院',
    departments: [
      { code: 'H1', name: '會計系' },
      { code: 'H2', name: '統計系' },
      { code: 'H3', name: '工資系' },
      { code: 'H4', name: '企管系' },
      { code: 'H5', name: '交管系' },
      { code: 'HZ', name: '管理學院' },
      { code: 'R0', name: 'ＥＭＢＡ碩專' },
      { code: 'R1', name: '會計所' },
      { code: 'R2', name: '統計所' },
      { code: 'R3', name: '工資所' },
      { code: 'R4', name: '企管所' },
      { code: 'R5', name: '交管所' },
      { code: 'R6', name: '國企所' },
      { code: 'R7', name: '資管所' },
      { code: 'R8', name: '財金所' },
      { code: 'R9', name: '電管所' },
      { code: 'RA', name: '國經所' },
      { code: 'RB', name: '體健所' },
      { code: 'RD', name: 'AMBA碩士學程' },
      { code: 'RE', name: '數據所' },
      { code: 'RF', name: '經營博士學程' },
      { code: 'RZ', name: '管理學院' },
      { code: 'VR', name: '財金產碩' },
      { code: 'VT', name: '東南亞金融產碩' },
      { code: 'VY', name: '會計商業產碩' },
    ],
  },
  {
    code: 'S',
    name: '醫學院',
    departments: [
      { code: 'I0', name: '醫學院學士班' },
      { code: 'I2', name: '護理系' },
      { code: 'I3', name: '醫技系' },
      { code: 'I5', name: '醫學系' },
      { code: 'I6', name: '物治系' },
      { code: 'I7', name: '職治系' },
      { code: 'I8', name: '藥學系' },
      { code: 'I9', name: '牙醫系' },
      { code: 'IA', name: '公衛系' },
      { code: 'S0', name: '醫學院研究所' },
      { code: 'S1', name: '生化所' },
      { code: 'S2', name: '藥理所' },
      { code: 'S3', name: '生理所' },
      { code: 'S4', name: '微免所' },
      { code: 'S5', name: '基醫所' },
      { code: 'S6', name: '臨藥科技所' },
      { code: 'S7', name: '環醫所' },
      { code: 'S8', name: '行醫所' },
      { code: 'S9', name: '臨醫所' },
      { code: 'SA', name: '神經博士學程' },
      { code: 'SB', name: '公衛碩專' },
      { code: 'SC', name: '食安所' },
      { code: 'T1', name: '分醫所' },
      { code: 'T2', name: '護理所' },
      { code: 'T3', name: '醫技所' },
      { code: 'T4', name: '口醫所' },
      { code: 'T6', name: '物治所' },
      { code: 'T7', name: '職治所' },
      { code: 'T8', name: '公衛所' },
      { code: 'T9', name: '細胞所' },
      { code: 'TA', name: '健照所' },
      { code: 'TC', name: '老年所' },
    ],
  },
  {
    code: 'U',
    name: '社會科學院',
    departments: [
      { code: 'D0', name: '社會科學院' },
      { code: 'D2', name: '法律系' },
      { code: 'D4', name: '政治系' },
      { code: 'D5', name: '經濟系' },
      { code: 'D8', name: '心理系' },
      { code: 'U1', name: '政經所' },
      { code: 'U2', name: '法律所' },
      { code: 'U3', name: '教育所' },
      { code: 'U5', name: '經濟所' },
      { code: 'U7', name: '心理所' },
      { code: 'U8', name: '心智應用博士學程' },
    ],
  },
  {
    code: 'V',
    name: '電機資訊學院',
    departments: [
      { code: 'E2', name: '電機系' },
      { code: 'EZ', name: '電資學院學士班' },
      { code: 'F7', name: '資訊系' },
      { code: 'N2', name: '電機所' },
      { code: 'ND', name: '多媒博士學程' },
      { code: 'NE', name: '人工智慧碩士學程' },
      { code: 'NQ', name: '資安碩士學程' },
      { code: 'P7', name: '資訊所' },
      { code: 'P9', name: '製造所' },
      { code: 'Q1', name: '微電所' },
      { code: 'Q3', name: '電通所' },
      { code: 'Q5', name: '醫資所' },
      { code: 'Q6', name: '南科碩專' },
      { code: 'Q7', name: '奈積碩博學程' },
      { code: 'QZ', name: '電資學院研究所' },
      { code: 'V6', name: '電力產碩' },
      { code: 'V8', name: '微波材料產碩' },
      { code: 'V9', name: '電子材料產碩' },
      { code: 'VA', name: '電機產碩' },
      { code: 'VB', name: '光材產碩' },
      { code: 'VC', name: '光產產碩' },
      { code: 'VD', name: '微波材料元件產碩' },
      { code: 'VE', name: '電子產碩' },
      { code: 'VG', name: '靜電保護產碩' },
      { code: 'VH', name: '磁性材料產碩' },
      { code: 'VK', name: '電機驅動產碩' },
      { code: 'VM', name: '積體製程產碩' },
      { code: 'VN', name: '微波元件產碩' },
      { code: 'VO', name: '先進RF產碩' },
      { code: 'VS', name: '金融資訊產碩' },
      { code: 'VU', name: '智慧製造產碩' },
      { code: 'VV', name: '光電半導體產碩' },
      { code: 'VW', name: '光電材料產碩' },
      { code: 'VX', name: '資訊產碩' },
    ],
  },
  {
    code: 'W',
    name: '規劃與設計學院',
    departments: [
      { code: 'E7', name: '建築系' },
      { code: 'F2', name: '都計系' },
      { code: 'F3', name: '工設系' },
      { code: 'FZ', name: '規劃設計學院學士' },
      { code: 'N7', name: '建築所' },
      { code: 'P2', name: '都計所' },
      { code: 'P3', name: '工設所' },
      { code: 'PA', name: '創意所' },
      { code: 'PB', name: '科藝碩士學程' },
      { code: 'PZ', name: '規劃設計學院研究' },
    ],
  },
  {
    code: 'Z',
    name: '生物科學與科技學院',
    departments: [
      { code: 'C5', name: '生科系' },
      { code: 'C6', name: '生技系' },
      { code: 'L5', name: '生科所' },
      { code: 'L6', name: '生技所' },
      { code: 'Z0', name: '生科學院' },
      { code: 'Z2', name: '生訊所' },
      { code: 'Z3', name: '熱植所' },
      { code: 'Z5', name: '譯農博士學程' },
    ],
  },
];

// Utility function to get department info
export const getDepartmentInfo = (code: string) => {
  for (const academy of ACADEMIES) {
    const dept = academy.departments.find((d) => d.code === code);
    if (dept) {
      return {
        name: dept.name,
        academy: academy.name,
      };
    }
  }
  return { name: code, academy: '其他' };
};

// Flatten departments for select options
export const getAllDepartments = () => {
  const departments: { value: string; label: string; group: string }[] = [];
  ACADEMIES.forEach((academy) => {
    academy.departments.forEach((dept) => {
      departments.push({
        value: dept.code,
        label: `${dept.name} (${dept.code})`,
        group: academy.name,
      });
    });
  });
  return departments;
};
